#### Replication

特点：速度快，弱一致性，低价值

适用场景：日志，新闻，帖子

#### PXC

特点：速度慢，强一致性，高价值

适用场景：订单，账户，财务

#### PXC的数据强一致性

同步复制，事务在所有集群节点要么同时提交，要么不提交

Replication采用异步复制，无法保证数据的一致性

#### haproxy

使用haproxy做负载均衡，请求被均匀的分发给每个节点，单节点负载低，性能好

#### keepalived

使用keepalived做多机热备

#### mysql的热备份（常见LVM，XtraBackup）

##### XtraBackup优势

XtraBackup备份过程不锁表，快速可靠

XtraBackup备份过程中不会打断正在执行的事务

XtraBackup能够基于压缩等功能节约硬盘空间和流量

##### 全量备份和增量备份

全量备份是备份全部数据，备份过程时间长，占用空间大

增量备份是只备份变化的那部分数据，备份时间短，占用空间小

##### 数据库可以热备份，但是不能热还原

为了避免恢复过程中的数据同步，我们采用空白的mysql还原数据，之后再建立PXC集群（之前的集群只能解散）

还原数据前还要将未提交的事务进行回滚，还原数据之后重启mysql